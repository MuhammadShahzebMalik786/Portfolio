<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Stock Predictor | Muhammad Shahzeb Malik</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #0f172a; color: white; }
        
        .header { background: linear-gradient(135deg, #1e293b, #334155); padding: 2rem 0; text-align: center; }
        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 20px; }
        .grid { display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; margin-bottom: 2rem; }
        
        .panel { background: #1e293b; border-radius: 15px; padding: 2rem; border: 1px solid #334155; }
        .panel h3 { color: #60a5fa; margin-bottom: 1rem; }
        
        .form-group { margin-bottom: 1rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; color: #cbd5e1; }
        .form-group select, .form-group input { width: 100%; padding: 0.8rem; background: #334155; border: 1px solid #475569; border-radius: 8px; color: white; }
        
        .btn { padding: 0.8rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-primary { background: #2563eb; color: white; width: 100%; }
        .btn-primary:hover { background: #1d4ed8; }
        
        .chart-container { height: 300px; background: #0f172a; border-radius: 8px; padding: 1rem; position: relative; overflow: hidden; }
        .chart-line { position: absolute; bottom: 20px; left: 20px; right: 20px; height: 200px; }
        .price-point { position: absolute; width: 4px; height: 4px; background: #10b981; border-radius: 50%; }
        .prediction-point { background: #f59e0b; }
        
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: #334155; padding: 1.5rem; border-radius: 10px; text-align: center; }
        .stat-value { font-size: 1.8rem; font-weight: bold; color: #60a5fa; }
        .stat-label { color: #cbd5e1; font-size: 0.9rem; }
        
        .prediction-result { background: #065f46; padding: 1.5rem; border-radius: 10px; margin-top: 1rem; border-left: 4px solid #10b981; }
        .prediction-price { font-size: 2rem; font-weight: bold; color: #10b981; }
        
        .back-link { position: fixed; top: 20px; right: 20px; background: #2563eb; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; z-index: 1000; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">‚Üê Back to Portfolio</a>
    
    <header class="header">
        <h1>üìà ML Stock Price Predictor</h1>
        <p>Advanced machine learning model for stock price forecasting</p>
    </header>

    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">87.3%</div>
                <div class="stat-label">Model Accuracy</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">LSTM</div>
                <div class="stat-label">Neural Network</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">5 Years</div>
                <div class="stat-label">Training Data</div>
            </div>
        </div>
        
        <div class="grid">
            <div class="panel">
                <h3>üìä Stock Selection</h3>
                <div class="form-group">
                    <label>Select Stock</label>
                    <select id="stockSelect" onchange="updateChart()">
                        <option value="AAPL">Apple (AAPL)</option>
                        <option value="GOOGL">Google (GOOGL)</option>
                        <option value="MSFT">Microsoft (MSFT)</option>
                        <option value="TSLA">Tesla (TSLA)</option>
                        <option value="AMZN">Amazon (AMZN)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Prediction Days</label>
                    <select id="daysSelect">
                        <option value="7">7 Days</option>
                        <option value="30">30 Days</option>
                        <option value="90">90 Days</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Current Price</label>
                    <input type="text" id="currentPrice" value="$150.25" readonly>
                </div>
                
                <button class="btn btn-primary" onclick="predictPrice()">üîÆ Predict Price</button>
                
                <div id="predictionResult" style="display: none;">
                    <div class="prediction-result">
                        <h4>Prediction Result</h4>
                        <div class="prediction-price" id="predictedPrice">$0.00</div>
                        <p id="predictionChange"></p>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <h3>üìà Price Chart & Prediction</h3>
                <div class="chart-container" id="chartContainer">
                    <canvas id="priceChart" width="600" height="280"></canvas>
                </div>
                <p style="color: #64748b; font-size: 0.9rem; margin-top: 1rem;">
                    Green line: Historical prices | Orange line: ML predictions
                </p>
            </div>
        </div>
        
        <div class="panel">
            <h3>üß† Model Details</h3>
            <p>This LSTM (Long Short-Term Memory) neural network analyzes historical price patterns, trading volume, and market indicators to predict future stock prices. The model uses 60-day sequences and multiple technical indicators.</p>
            
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-top: 1rem;">
                <div style="text-align: center;">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;">4 Layers</div>
                    <div style="font-size: 0.8rem; color: #64748b;">LSTM Layers</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;">128 Units</div>
                    <div style="font-size: 0.8rem; color: #64748b;">Hidden Units</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;">60 Days</div>
                    <div style="font-size: 0.8rem; color: #64748b;">Sequence Length</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 1.2rem; font-weight: bold; color: #10b981;">0.001</div>
                    <div style="font-size: 0.8rem; color: #64748b;">Learning Rate</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const stockData = {
            AAPL: { price: 150.25, volatility: 0.25 },
            GOOGL: { price: 2750.80, volatility: 0.30 },
            MSFT: { price: 310.50, volatility: 0.22 },
            TSLA: { price: 850.75, volatility: 0.45 },
            AMZN: { price: 3200.40, volatility: 0.28 }
        };
        
        function updateChart() {
            const stock = document.getElementById('stockSelect').value;
            const currentPrice = stockData[stock].price;
            document.getElementById('currentPrice').value = `$${currentPrice.toFixed(2)}`;
            
            drawChart(stock);
        }
        
        function drawChart(stock) {
            const canvas = document.getElementById('priceChart');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const currentPrice = stockData[stock].price;
            const volatility = stockData[stock].volatility;
            
            // Generate historical data
            const historicalData = [];
            let price = currentPrice * 0.8;
            for (let i = 0; i < 30; i++) {
                price += (Math.random() - 0.5) * price * volatility * 0.1;
                historicalData.push(price);
            }
            
            // Draw historical line
            ctx.strokeStyle = '#10b981';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            historicalData.forEach((price, i) => {
                const x = (i / 29) * (canvas.width - 40) + 20;
                const y = canvas.height - 40 - ((price - Math.min(...historicalData)) / (Math.max(...historicalData) - Math.min(...historicalData))) * (canvas.height - 80);
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.stroke();
            
            // Add labels
            ctx.fillStyle = '#cbd5e1';
            ctx.font = '12px Arial';
            ctx.fillText('30 days ago', 20, canvas.height - 10);
            ctx.fillText('Today', canvas.width - 60, canvas.height - 10);
        }
        
        function predictPrice() {
            const stock = document.getElementById('stockSelect').value;
            const days = parseInt(document.getElementById('daysSelect').value);
            const currentPrice = stockData[stock].price;
            const volatility = stockData[stock].volatility;
            
            // Simulate ML prediction
            const trendFactor = Math.random() * 0.4 - 0.2; // -20% to +20%
            const timeFactor = days / 365; // Time decay
            const prediction = currentPrice * (1 + trendFactor * timeFactor);
            
            const change = ((prediction - currentPrice) / currentPrice) * 100;
            const changeColor = change >= 0 ? '#10b981' : '#ef4444';
            const changeSymbol = change >= 0 ? '+' : '';
            
            document.getElementById('predictedPrice').textContent = `$${prediction.toFixed(2)}`;
            document.getElementById('predictedPrice').style.color = changeColor;
            document.getElementById('predictionChange').innerHTML = `
                <span style="color: ${changeColor};">${changeSymbol}${change.toFixed(2)}% (${changeSymbol}$${(prediction - currentPrice).toFixed(2)})</span>
                <br><small>Confidence: ${(85 + Math.random() * 10).toFixed(1)}%</small>
            `;
            
            document.getElementById('predictionResult').style.display = 'block';
            
            // Draw prediction on chart
            drawPredictionLine(stock, prediction);
        }
        
        function drawPredictionLine(stock, predictedPrice) {
            const canvas = document.getElementById('priceChart');
            const ctx = canvas.getContext('2d');
            
            // Draw prediction line
            ctx.strokeStyle = '#f59e0b';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            
            const startX = canvas.width - 60;
            const startY = canvas.height / 2;
            const endX = canvas.width - 20;
            const endY = canvas.height / 2 + (Math.random() - 0.5) * 100;
            
            ctx.moveTo(startX, startY);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Add prediction label
            ctx.fillStyle = '#f59e0b';
            ctx.font = '10px Arial';
            ctx.fillText('Prediction', endX - 40, endY - 10);
        }
        
        // Initialize
        updateChart();
    </script>
</body>
</html>
