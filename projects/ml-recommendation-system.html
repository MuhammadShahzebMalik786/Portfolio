<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Recommendation System | Muhammad Shahzeb Malik</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #f8fafc; }
        
        .header { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 2rem 0; text-align: center; }
        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 2rem 20px; }
        .grid { display: grid; grid-template-columns: 1fr 2fr; gap: 2rem; margin-bottom: 2rem; }
        
        .panel { background: white; border-radius: 15px; padding: 2rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .panel h3 { color: #1e293b; margin-bottom: 1.5rem; }
        
        .user-preferences { margin-bottom: 2rem; }
        .preference-item { display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #f8fafc; border-radius: 8px; margin-bottom: 0.5rem; }
        .rating-stars { display: flex; gap: 0.2rem; }
        .star { cursor: pointer; font-size: 1.2rem; color: #d1d5db; transition: color 0.2s; }
        .star.active { color: #fbbf24; }
        .star:hover { color: #fbbf24; }
        
        .recommendations { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .recommendation-card { background: #f8fafc; border-radius: 10px; padding: 1rem; text-align: center; transition: transform 0.3s; }
        .recommendation-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .recommendation-icon { font-size: 3rem; margin-bottom: 0.5rem; }
        .recommendation-title { font-weight: bold; margin-bottom: 0.5rem; color: #1e293b; }
        .recommendation-score { color: #6366f1; font-weight: bold; }
        
        .algorithm-info { background: #eff6ff; padding: 1.5rem; border-radius: 10px; border-left: 4px solid #2563eb; margin-top: 2rem; }
        
        .btn { padding: 0.8rem 1.5rem; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-primary { background: #6366f1; color: white; width: 100%; }
        .btn-primary:hover { background: #5b21b6; }
        
        .back-link { position: fixed; top: 20px; right: 20px; background: #6366f1; color: white; padding: 10px 20px; border-radius: 5px; text-decoration: none; z-index: 1000; }
        
        .metrics { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 2rem; }
        .metric { background: white; padding: 1.5rem; border-radius: 10px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .metric-value { font-size: 2rem; font-weight: bold; color: #6366f1; }
        .metric-label { color: #64748b; font-size: 0.9rem; }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">‚Üê Back to Portfolio</a>
    
    <header class="header">
        <h1>üéØ ML Recommendation System</h1>
        <p>Personalized recommendations using collaborative filtering and content-based algorithms</p>
    </header>

    <div class="container">
        <div class="metrics">
            <div class="metric">
                <div class="metric-value">94.7%</div>
                <div class="metric-label">Accuracy Rate</div>
            </div>
            <div class="metric">
                <div class="metric-value">1M+</div>
                <div class="metric-label">User Interactions</div>
            </div>
            <div class="metric">
                <div class="metric-value">50K+</div>
                <div class="metric-label">Items Catalog</div>
            </div>
        </div>
        
        <div class="grid">
            <div class="panel">
                <h3>üë§ User Preferences</h3>
                <div class="user-preferences" id="preferences">
                    <!-- Preferences will be populated by JavaScript -->
                </div>
                
                <button class="btn btn-primary" onclick="generateRecommendations()">üîÑ Get Recommendations</button>
                
                <div class="algorithm-info">
                    <h4 style="color: #1e40af; margin-bottom: 0.5rem;">Algorithm Used</h4>
                    <p style="font-size: 0.9rem; color: #64748b;">Hybrid approach combining collaborative filtering and content-based filtering with matrix factorization.</p>
                </div>
            </div>
            
            <div class="panel">
                <h3>‚ú® Personalized Recommendations</h3>
                <div class="recommendations" id="recommendations">
                    <p style="color: #64748b; text-align: center; padding: 2rem; grid-column: 1 / -1;">Rate some items to get personalized recommendations</p>
                </div>
            </div>
        </div>
        
        <div class="panel">
            <h3>üß† How It Works</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 1rem;">
                <div style="text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìä</div>
                    <h4 style="color: #1e293b; margin-bottom: 0.5rem;">Data Collection</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">Gather user ratings, preferences, and behavioral data</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">ü§ñ</div>
                    <h4 style="color: #1e293b; margin-bottom: 0.5rem;">ML Processing</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">Apply collaborative filtering and content analysis</p>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéØ</div>
                    <h4 style="color: #1e293b; margin-bottom: 0.5rem;">Personalization</h4>
                    <p style="color: #64748b; font-size: 0.9rem;">Generate tailored recommendations with confidence scores</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const items = [
            { id: 1, name: 'Action Movies', icon: 'üé¨', category: 'entertainment' },
            { id: 2, name: 'Sci-Fi Books', icon: 'üìö', category: 'books' },
            { id: 3, name: 'Rock Music', icon: 'üé∏', category: 'music' },
            { id: 4, name: 'Italian Food', icon: 'üçù', category: 'food' },
            { id: 5, name: 'Tech Gadgets', icon: 'üì±', category: 'technology' },
            { id: 6, name: 'Travel', icon: '‚úàÔ∏è', category: 'lifestyle' },
            { id: 7, name: 'Photography', icon: 'üì∏', category: 'hobbies' },
            { id: 8, name: 'Fitness', icon: 'üí™', category: 'health' }
        ];
        
        const recommendations = {
            entertainment: [
                { name: 'Marvel Movies', icon: 'ü¶∏', score: 0.95 },
                { name: 'Netflix Series', icon: 'üì∫', score: 0.88 },
                { name: 'Gaming', icon: 'üéÆ', score: 0.82 }
            ],
            books: [
                { name: 'Fantasy Novels', icon: 'üßô', score: 0.91 },
                { name: 'Tech Magazines', icon: 'üìñ', score: 0.85 },
                { name: 'Audiobooks', icon: 'üéß', score: 0.79 }
            ],
            music: [
                { name: 'Alternative Rock', icon: 'üéµ', score: 0.93 },
                { name: 'Live Concerts', icon: 'üé§', score: 0.87 },
                { name: 'Music Streaming', icon: 'üé∂', score: 0.84 }
            ],
            food: [
                { name: 'Mediterranean', icon: 'ü•ó', score: 0.89 },
                { name: 'Cooking Classes', icon: 'üë®‚Äçüç≥', score: 0.83 },
                { name: 'Food Delivery', icon: 'üöö', score: 0.78 }
            ],
            technology: [
                { name: 'Smart Home', icon: 'üè†', score: 0.92 },
                { name: 'AI Tools', icon: 'ü§ñ', score: 0.88 },
                { name: 'VR Headsets', icon: 'ü•Ω', score: 0.81 }
            ],
            lifestyle: [
                { name: 'Adventure Tours', icon: 'üèîÔ∏è', score: 0.90 },
                { name: 'City Breaks', icon: 'üèôÔ∏è', score: 0.86 },
                { name: 'Travel Apps', icon: 'üó∫Ô∏è', score: 0.80 }
            ],
            hobbies: [
                { name: 'Camera Gear', icon: 'üì∑', score: 0.94 },
                { name: 'Photo Editing', icon: 'üñºÔ∏è', score: 0.87 },
                { name: 'Online Courses', icon: 'üíª', score: 0.83 }
            ],
            health: [
                { name: 'Yoga Classes', icon: 'üßò', score: 0.91 },
                { name: 'Nutrition Apps', icon: 'ü•ë', score: 0.85 },
                { name: 'Workout Gear', icon: 'üèãÔ∏è', score: 0.82 }
            ]
        };
        
        let userRatings = {};
        
        function initializePreferences() {
            const container = document.getElementById('preferences');
            container.innerHTML = items.map(item => `
                <div class="preference-item">
                    <div>
                        <span style="font-size: 1.5rem; margin-right: 0.5rem;">${item.icon}</span>
                        <span>${item.name}</span>
                    </div>
                    <div class="rating-stars" data-item="${item.id}">
                        ${[1,2,3,4,5].map(star => `<span class="star" data-rating="${star}">‚≠ê</span>`).join('')}
                    </div>
                </div>
            `).join('');
            
            // Add click handlers for stars
            document.querySelectorAll('.star').forEach(star => {
                star.addEventListener('click', function() {
                    const itemId = this.closest('.rating-stars').dataset.item;
                    const rating = parseInt(this.dataset.rating);
                    setRating(itemId, rating);
                });
            });
        }
        
        function setRating(itemId, rating) {
            userRatings[itemId] = rating;
            
            // Update visual stars
            const starsContainer = document.querySelector(`[data-item="${itemId}"]`);
            const stars = starsContainer.querySelectorAll('.star');
            
            stars.forEach((star, index) => {
                if (index < rating) {
                    star.classList.add('active');
                } else {
                    star.classList.remove('active');
                }
            });
        }
        
        function generateRecommendations() {
            const ratedItems = Object.keys(userRatings);
            if (ratedItems.length === 0) {
                alert('Please rate at least one item to get recommendations!');
                return;
            }
            
            // Find user's preferred categories based on high ratings
            const preferredCategories = [];
            ratedItems.forEach(itemId => {
                const rating = userRatings[itemId];
                if (rating >= 4) {
                    const item = items.find(i => i.id == itemId);
                    if (item) {
                        preferredCategories.push(item.category);
                    }
                }
            });
            
            // Generate recommendations based on preferred categories
            let allRecommendations = [];
            preferredCategories.forEach(category => {
                if (recommendations[category]) {
                    allRecommendations = allRecommendations.concat(
                        recommendations[category].map(rec => ({
                            ...rec,
                            category: category
                        }))
                    );
                }
            });
            
            // If no high ratings, show random recommendations
            if (allRecommendations.length === 0) {
                const randomCategories = Object.keys(recommendations).slice(0, 3);
                randomCategories.forEach(category => {
                    allRecommendations = allRecommendations.concat(
                        recommendations[category].slice(0, 2).map(rec => ({
                            ...rec,
                            category: category,
                            score: rec.score * 0.7 // Lower confidence for random
                        }))
                    );
                });
            }
            
            // Sort by score and take top recommendations
            allRecommendations.sort((a, b) => b.score - a.score);
            const topRecommendations = allRecommendations.slice(0, 6);
            
            displayRecommendations(topRecommendations);
        }
        
        function displayRecommendations(recs) {
            const container = document.getElementById('recommendations');
            container.innerHTML = recs.map(rec => `
                <div class="recommendation-card">
                    <div class="recommendation-icon">${rec.icon}</div>
                    <div class="recommendation-title">${rec.name}</div>
                    <div class="recommendation-score">${(rec.score * 100).toFixed(1)}% match</div>
                </div>
            `).join('');
        }
        
        // Initialize the demo
        initializePreferences();
    </script>
</body>
</html>
